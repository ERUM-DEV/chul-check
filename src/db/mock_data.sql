-- 테이블 생성
CREATE TABLE IF NOT EXISTS members (
    id TEXT PRIMARY KEY,
    group_name TEXT NOT NULL,
    name TEXT NOT NULL,
    birth_date TEXT,
    gender TEXT NOT NULL,
    joined_date TEXT NOT NULL,
    generation TEXT NOT NULL,
    roles TEXT NOT NULL,
    recent_attendance_date TEXT,
    attendance_count INTEGER DEFAULT 0,
    enable INTEGER DEFAULT 1,
    long_absence INTEGER DEFAULT 0,
    long_absence_reason TEXT DEFAULT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS attendance_history (
    id TEXT PRIMARY KEY,
    member_id TEXT NOT NULL,
    date TEXT NOT NULL,
    type TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (member_id) REFERENCES members(id)
);

-- 기존 데이터 초기화
DELETE FROM members;
DELETE FROM attendance_history;

-- 셀 그룹별 멤버 추가
INSERT INTO members (id, group_name, name, birth_date, gender, joined_date, generation, roles, enable, long_absence)
VALUES
  -- 1셀 (11명)
  ('member_001', '1셀', '김성실', '1990-01-01', 'M', '2020-01-01', '1세대', '셀리더', 1, 0),
  ('member_002', '1셀', '이믿음', '1992-03-15', 'F', '2020-02-15', '1세대', '성도', 1, 0),
  ('member_003', '1셀', '박사랑', '1988-07-22', 'F', '2020-03-01', '1세대', '성도', 1, 0),
  ('member_004', '1셀', '최은혜', '1995-11-30', 'F', '2020-04-10', '2세대', '성도', 1, 1),
  ('member_005', '1셀', '정진리', '1993-09-25', 'M', '2020-05-20', '2세대', '성도', 1, 0),
  ('member_006', '1셀', '강평화', '1991-04-18', 'F', '2020-06-15', '1세대', '성도', 1, 0),
  ('member_007', '1셀', '윤축복', '1994-08-07', 'M', '2020-07-01', '2세대', '성도', 1, 0),
  ('member_008', '1셀', '임기쁨', '1989-12-12', 'F', '2020-08-22', '1세대', '성도', 1, 0),
  ('member_009', '1셀', '한소망', '1996-02-28', 'M', '2020-09-30', '2세대', '성도', 1, 0),
  ('member_010', '1셀', '오감사', '1987-06-05', 'F', '2020-10-15', '1세대', '성도', 1, 0),
  ('member_011', '1셀', '서은총', '1997-10-20', 'M', '2020-11-11', '2세대', '성도', 1, 1),

  -- 2셀 (9명)
  ('member_012', '2셀', '김지혜', '1992-05-15', 'F', '2020-01-05', '1세대', '셀리더', 1, 0),
  ('member_013', '2셀', '이선한', '1990-08-22', 'M', '2020-02-20', '1세대', '성도', 1, 0),
  ('member_014', '2셀', '박겸손', '1995-03-30', 'F', '2020-03-15', '2세대', '성도', 1, 0),
  ('member_015', '2셀', '최인내', '1988-11-12', 'M', '2020-04-25', '1세대', '성도', 1, 1),
  ('member_016', '2셀', '정온유', '1993-07-08', 'F', '2020-05-30', '2세대', '성도', 1, 0),
  ('member_017', '2셀', '강화평', '1991-01-25', 'M', '2020-06-10', '1세대', '성도', 1, 0),
  ('member_018', '2셀', '윤양선', '1994-09-18', 'F', '2020-07-20', '2세대', '성도', 1, 0),
  ('member_019', '2셀', '임절제', '1989-04-05', 'M', '2020-08-15', '1세대', '성도', 1, 0),
  ('member_020', '2셀', '한충성', '1996-12-28', 'F', '2020-09-05', '2세대', '성도', 1, 0),

  -- 3셀 (12명)
  ('member_021', '3셀', '김경건', '1991-07-14', 'M', '2020-01-10', '1세대', '셀리더', 1, 0),
  ('member_022', '3셀', '이거룩', '1993-02-28', 'F', '2020-02-25', '2세대', '성도', 1, 0),
  ('member_023', '3셀', '박정직', '1988-09-15', 'M', '2020-03-20', '1세대', '성도', 1, 0),
  ('member_024', '3셀', '최진실', '1995-04-30', 'F', '2020-04-15', '2세대', '성도', 1, 1),
  ('member_025', '3셀', '정성실', '1990-12-05', 'M', '2020-05-10', '1세대', '성도', 1, 0),
  ('member_026', '3셀', '강충성', '1994-06-22', 'F', '2020-06-20', '2세대', '성도', 1, 0),
  ('member_027', '3셀', '윤순종', '1989-11-08', 'M', '2020-07-15', '1세대', '성도', 1, 0),
  ('member_028', '3셀', '임온유', '1996-03-25', 'F', '2020-08-10', '2세대', '성도', 1, 0),
  ('member_029', '3셀', '한평화', '1992-08-12', 'M', '2020-09-25', '1세대', '성도', 1, 0),
  ('member_030', '3셀', '오화평', '1987-01-30', 'F', '2020-10-20', '1세대', '성도', 1, 0),
  ('member_031', '3셀', '서기쁨', '1997-05-17', 'M', '2020-11-15', '2세대', '성도', 1, 1),
  ('member_032', '3셀', '남소망', '1993-10-02', 'F', '2020-12-05', '2세대', '성도', 1, 0),

  -- 4셀 (8명)
  ('member_033', '4셀', '김은혜', '1991-03-20', 'F', '2020-01-15', '1세대', '셀리더', 1, 0),
  ('member_034', '4셀', '이사랑', '1993-08-05', 'M', '2020-02-28', '2세대', '성도', 1, 0),
  ('member_035', '4셀', '박믿음', '1988-11-30', 'F', '2020-03-25', '1세대', '성도', 1, 1),
  ('member_036', '4셀', '최소망', '1995-06-15', 'M', '2020-04-20', '2세대', '성도', 1, 0),
  ('member_037', '4셀', '정기쁨', '1990-01-10', 'F', '2020-05-15', '1세대', '성도', 1, 0),
  ('member_038', '4셀', '강평안', '1994-04-25', 'M', '2020-06-25', '2세대', '성도', 1, 0),
  ('member_039', '4셀', '윤샬롬', '1989-09-20', 'F', '2020-07-10', '1세대', '성도', 1, 0),
  ('member_040', '4셀', '임축복', '1996-12-05', 'M', '2020-08-20', '2세대', '성도', 1, 1),

  -- 5셀 (10명)
  ('member_041', '5셀', '김충성', '1992-02-10', 'M', '2020-01-20', '1세대', '셀리더', 1, 0),
  ('member_042', '5셀', '이온유', '1990-07-15', 'F', '2020-02-10', '1세대', '성도', 1, 0),
  ('member_043', '5셀', '박화평', '1995-12-20', 'M', '2020-03-30', '2세대', '성도', 1, 0),
  ('member_044', '5셀', '최양선', '1988-05-25', 'F', '2020-04-05', '1세대', '성도', 1, 1),
  ('member_045', '5셀', '정절제', '1993-10-30', 'M', '2020-05-25', '2세대', '성도', 1, 0),
  ('member_046', '5셀', '강진리', '1991-03-05', 'F', '2020-06-30', '1세대', '성도', 1, 0),
  ('member_047', '5셀', '윤정직', '1994-08-10', 'M', '2020-07-25', '2세대', '성도', 1, 0),
  ('member_048', '5셀', '임겸손', '1989-01-15', 'F', '2020-08-30', '1세대', '성도', 1, 0),
  ('member_049', '5셀', '한선한', '1996-06-20', 'M', '2020-09-15', '2세대', '성도', 1, 0),
  ('member_050', '5셀', '오거룩', '1987-11-25', 'F', '2020-10-10', '1세대', '성도', 1, 1),

  -- 6셀 (11명)
  ('member_051', '6셀', '김평화', '1991-05-05', 'F', '2020-01-25', '1세대', '셀리더', 1, 0),
  ('member_052', '6셀', '이샬롬', '1993-10-10', 'M', '2020-02-05', '2세대', '성도', 1, 0),
  ('member_053', '6셀', '박은혜', '1988-03-15', 'F', '2020-03-10', '1세대', '성도', 1, 0),
  ('member_054', '6셀', '최사랑', '1995-08-20', 'M', '2020-04-30', '2세대', '성도', 1, 1),
  ('member_055', '6셀', '정믿음', '1990-01-25', 'F', '2020-05-05', '1세대', '성도', 1, 0),
  ('member_056', '6셀', '강소망', '1994-06-30', 'M', '2020-06-05', '2세대', '성도', 1, 0),
  ('member_057', '6셀', '윤기쁨', '1989-11-05', 'F', '2020-07-30', '1세대', '성도', 1, 0),
  ('member_058', '6셀', '임평안', '1996-04-10', 'M', '2020-08-05', '2세대', '성도', 1, 0),
  ('member_059', '6셀', '한축복', '1992-09-15', 'F', '2020-09-30', '1세대', '성도', 1, 0),
  ('member_060', '6셀', '오충성', '1987-02-20', 'M', '2020-10-05', '1세대', '성도', 1, 1),
  ('member_061', '6셀', '서온유', '1997-07-25', 'F', '2020-11-30', '2세대', '성도', 1, 0),

  -- 7셀 (9명)
  ('member_062', '7셀', '김화평', '1992-04-15', 'M', '2020-01-30', '1세대', '셀리더', 1, 0),
  ('member_063', '7셀', '이양선', '1990-09-20', 'F', '2020-02-15', '1세대', '성도', 1, 0),
  ('member_064', '7셀', '박절제', '1995-02-25', 'M', '2020-03-05', '2세대', '성도', 1, 0),
  ('member_065', '7셀', '최진리', '1988-07-30', 'F', '2020-04-20', '1세대', '성도', 1, 1),
  ('member_066', '7셀', '정정직', '1993-12-05', 'M', '2020-05-15', '2세대', '성도', 1, 0),
  ('member_067', '7셀', '강겸손', '1991-05-10', 'F', '2020-06-15', '1세대', '성도', 1, 0),
  ('member_068', '7셀', '윤선한', '1994-10-15', 'M', '2020-07-05', '2세대', '성도', 1, 0),
  ('member_069', '7셀', '임거룩', '1989-03-20', 'F', '2020-08-25', '1세대', '성도', 1, 0),
  ('member_070', '7셀', '한경건', '1996-08-25', 'M', '2020-09-10', '2세대', '성도', 1, 1),

  -- 8셀 (13명)
  ('member_071', '8셀', '김은총', '1991-06-10', 'F', '2020-01-15', '1세대', '셀리더', 1, 0),
  ('member_072', '8셀', '이평안', '1993-11-15', 'M', '2020-02-10', '2세대', '성도', 1, 0),
  ('member_073', '8셀', '박축복', '1988-04-20', 'F', '2020-03-15', '1세대', '성도', 1, 0),
  ('member_074', '8셀', '최충성', '1995-09-25', 'M', '2020-04-10', '2세대', '성도', 1, 1),
  ('member_075', '8셀', '정온유', '1990-02-28', 'F', '2020-05-20', '1세대', '성도', 1, 0),
  ('member_076', '8셀', '강화평', '1994-07-05', 'M', '2020-06-10', '2세대', '성도', 1, 0),
  ('member_077', '8셀', '윤양선', '1989-12-10', 'F', '2020-07-20', '1세대', '성도', 1, 0),
  ('member_078', '8셀', '임절제', '1996-05-15', 'M', '2020-08-15', '2세대', '성도', 1, 0),
  ('member_079', '8셀', '한진리', '1992-10-20', 'F', '2020-09-20', '1세대', '성도', 1, 0),
  ('member_080', '8셀', '오정직', '1987-03-25', 'M', '2020-10-15', '1세대', '성도', 1, 1),
  ('member_081', '8셀', '서겸손', '1997-08-30', 'F', '2020-11-20', '2세대', '성도', 1, 0),
  ('member_082', '8셀', '남선한', '1994-01-05', 'M', '2020-12-10', '2세대', '성도', 1, 0),
  ('member_083', '8셀', '유거룩', '1991-06-10', 'F', '2020-12-15', '1세대', '성도', 1, 0),

  -- 9셀 (10명)
  ('member_084', '9셀', '김경건', '1992-07-20', 'M', '2020-01-10', '1세대', '셀리더', 1, 0),
  ('member_085', '9셀', '이은총', '1990-12-25', 'F', '2020-02-20', '1세대', '성도', 1, 0),
  ('member_086', '9셀', '박평안', '1995-05-30', 'M', '2020-03-25', '2세대', '성도', 1, 0),
  ('member_087', '9셀', '최축복', '1988-10-05', 'F', '2020-04-15', '1세대', '성도', 1, 1),
  ('member_088', '9셀', '정충성', '1993-03-10', 'M', '2020-05-25', '2세대', '성도', 1, 0),
  ('member_089', '9셀', '강온유', '1991-08-15', 'F', '2020-06-20', '1세대', '성도', 1, 0),
  ('member_090', '9셀', '윤화평', '1994-01-20', 'M', '2020-07-10', '2세대', '성도', 1, 0),
  ('member_091', '9셀', '임양선', '1989-06-25', 'F', '2020-08-20', '1세대', '성도', 1, 0),
  ('member_092', '9셀', '한절제', '1996-11-30', 'M', '2020-09-15', '2세대', '성도', 1, 0),
  ('member_093', '9셀', '오진리', '1987-04-05', 'F', '2020-10-25', '1세대', '성도', 1, 1),

  -- 10셀 (7명)
  ('member_094', '10셀', '김정직', '1991-08-15', 'F', '2020-01-05', '1세대', '셀리더', 1, 0),
  ('member_095', '10셀', '이겸손', '1993-01-20', 'M', '2020-02-15', '2세대', '성도', 1, 0),
  ('member_096', '10셀', '박선한', '1988-06-25', 'F', '2020-03-10', '1세대', '성도', 1, 0),
  ('member_097', '10셀', '최거룩', '1995-11-30', 'M', '2020-04-25', '2세대', '성도', 1, 1),
  ('member_098', '10셀', '정경건', '1990-04-05', 'F', '2020-05-10', '1세대', '성도', 1, 0),
  ('member_099', '10셀', '강은총', '1994-09-10', 'M', '2020-06-25', '2세대', '성도', 1, 0),
  ('member_100', '10셀', '윤평안', '1989-02-15', 'F', '2020-07-15', '1세대', '성도', 1, 0);

-- 추가된 데이터 확인
SELECT * FROM members;
SELECT * FROM attendance_history; 